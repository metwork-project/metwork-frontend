{{annotations-manager
model=frag-annotation
project=model
modelName="frag-annotation"
updateDataPage=(route-action 'updateDataPage')
status=status
annotationToEdit=annotationToEdit
formatSelect=model.annotationFileFormats
uploadAnnotRouteLabel=uploadAnnotRouteLabel
updateDataController=(action 'updateDataController')
dataLabel=frag-annotation.dataLabel
}}
{{#bs-modal open=modalAddAnnot onHidden=(action (mut modalAddAnnot) false) as |modal|}}
{{#modal.header}}
<h4 class="modal-title">
  Add annotation
</h4>
{{/modal.header}}
{{#modal.body}}
<form class="add_annotation">
  <div class="form-group">
    <label>Ion ID</label>
    <input type="text" class="form-control" class="ion-id">
    <label>Name</label>
    <input type="text" class="form-control" class="name">
    <label>Smiles</label>
    <input type="text" class="form-control" class="smiles">
    <label>Annotation source</label>
    <input type="text" class="form-control" class="db-source">
    <label>Source ID</label>
    <input type="text" class="form-control" class="db-id">
  </div>
</form>
{{/modal.body}}
{{#modal.footer}}
{{#if editing }}
{{#bs-button onClick=(action modal.close)}}Cancel{{/bs-button}}
{{#bs-button type="success" onClick=(action 'addAnnotation')}}Upload{{/bs-button}}
{{/if}}
{{#if uploading }}
<div class="progress btn-size">
  <div class="progress-bar progress-bar-striped progress-bar-animated bg-primary" role="progressbar" aria-valuenow="100"
    aria-valuemin="0" aria-valuemax="100" style="width: 100%">
    Uploading ...
  </div>
</div>
{{/if}}
{{/modal.footer}}
{{/bs-modal}}

{{annotation-editor title="Edit annotation" annotation=annotationToEdit}}